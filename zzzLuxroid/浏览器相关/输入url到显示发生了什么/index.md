究极详细，让你脱颖而出
1.应用层(dns,http) DNS解析成IP并发送http请求

2.传输层(tcp,udp) 建立tcp连接（三次握手）

3.网络层(IP,ARP) IP寻址

4.数据链路层(PPP) 封装成帧

5.物理层(利用物理介质传输比特流) 物理传输（然后传输的时候通过双绞线，电磁波等各种介质）

正文：
1.查找DNS缓存
浏览器缓存-系统缓存-host文件-路由器缓存-运营商（ISP）缓存
DNS服务器种类：根DNS服务器(.) 顶级域(Top-Level Domain, TLD)DNS服务器和权威DNS服务器
根服务器. - .com 和.cn.org 等等然后在到权威DNS服务器
根 DNS 服务器 ，有 400 多个根域名服务器遍及全世界，这些根域名服务器由 13 个不同的组织管理。根域名服务器的清单和组织机构可以在 https://root-servers.org/ 中找到，根域名服务器提供 TLD 服务器的 IP 地址。
顶级域 DNS 服务器，对于每个顶级域名比如 com、org、net、edu 和 gov 和所有的国家级域名 uk、fr、ca 和 jp 都有 TLD 服务器或服务器集群。所有的顶级域列表参见 https://tld-list.com/ 。TDL 服务器提供了权威 DNS 服务器的 IP 地址。
权威 DNS 服务器，在因特网上具有公共可访问的主机，如 Web 服务器和邮件服务器，这些主机的组织机构必须提供可供访问的 DNS 记录，这些记录将这些主机的名字映射为 IP 地址。一个组织机构的权威 DNS 服务器收藏了这些 DNS 记录。

DNS查询方式：
1.递归查询
  所谓递归查询就是：如果主机所询问的本地域名服务器不知道被查询的域名的IP地址，那么本地域名服务器就以DNS客户的身份，
  向其它根域名服务器继续发出查询请求报文(即替主机继续查询)，而不是让主机自己进行下一步查询。
  因此，递归查询返回的查询结果或者是所要查询的IP地址，或者是报错，表示无法查询到所需的IP地址。
2.迭代查询
迭代查询的特点：当根域名服务器收到本地域名服务器发出的迭代查询请求报文时，要么给出所要查询的IP地址，要么告诉本地服务器：“你下一步应当向哪一个域名服务器进行查询”。
  然后让本地服务器进行后续的查询。根域名服务器通常是把自己知道的顶级域名服务器的IP地址告诉本地域名服务器，让本地域名服务器再向顶级域名服务器查询。
  顶级域名服务器在收到本地域名服务器的查询请求后，要么给出所要查询的IP地址，要么告诉本地服务器下一步应当向哪一个权限域名服务器进行查询。
  最后，知道了所要解析的IP地址或报错，然后把这个结果返回给发起查询的主机
3.非迭代查询
  非递归查询发生在 Client 和 DNS Server 之间，指的是，请求的 DNS Server 已经知道答案，直接返回。这里可能有两种情况，一种是 DNS Server 本机缓存了对应的 IP，或者是缓存了对应的域名的权威服务器。第二种情况只需要再发一次请求，即可拿到结果返回。
ARP 请求 不说了 挺简单了 通过ip地址找mac地址然后tcp握手
  找到mac地址

如何优化DNS查询速度
TTL (Time To Live):表示查找返回的DNS记录包含的一个存活时间，过期则这个DNS记录将被抛弃
1.更改TTL值以利用DNS缓存
由于浏览器和操作系统会对DNS进行缓存，所以你不必担心每个页面重新加载时会再次DNS请求；
您的域名注册商或第三方DNS提供商可以更改TTL值，以改善您的DNS缓存时间。
值得注意的是ISP（Internet Service Provider）也会缓存DNS。以下是一些常见的TTL值：
300秒 = 5分钟
1800秒 = 30分钟
3600秒 = 1小时
43200秒 = 12小时
86400秒 = 24小时

2.使用dns-prefetch
<link rel="dns-prefetch" href="https://fonts.gstatic.com/">




<!-- https://blog.csdn.net/jun2016425/article/details/81506353 -->
SYN是同步的缩写，SYN 段是发送到另一台计算机的 TCP 数据包，请求在它们之间建立连接
ACK 是“确认”的缩写。 ACK 数据包是任何确认收到一条消息或一系列数据包的 TCP 数据包

tcp三次握手
1.一开始，两端都处于CLOSED（关闭）状态
2.客户端给服务器发送一个SYN段(在 TCP 标头中 SYN标志位 位字段为 1 的 TCP/IP 数据包), 该段中也包含客户端的初始序列号(Sequence number = J)。然后客户端进入SYN_SENT状态
SYN是同步的缩写，SYN 段是发送到另一台计算机的 TCP 数据包，请求在它们之间建立连接
3.服务器返回客户端 SYN +ACK 段(在 TCP 标头中SYN和ACK位字段都为 1 的 TCP/IP 数据包)， 该段中包含服务器的初始序列号(Sequence number = K)；同时使 Acknowledgment number = J + 1来表示确认已收到客户端的 SYN段(Sequence number = J)。进入SYN_rcvd
4.客户端给服务器响应一个ACK段(在 TCP 标头中 ACK 位字段为 1 的 TCP/IP 数据包), 该段中使 Acknowledgment number = K + 1来表示确认已收到服务器的 SYN段(Sequence number = K)。 进入ESTABLISHED

5.服务端收到确认 进入ESTABLISHED

服务端根据路径解析资源地址并返回html
浏览器收到解析html 看另一个md

tcp四次挥手
1.客户端发送一个FIN报文，FIN=1 seq=u，进入FIN_WAIT1
2.收到FIN报文，返回ACK报文，ACK=1 ack = u+1 seq = v 进入 CLOSE_WAIT
3.客户端收到ACK报文进入FIN_WAIT2（半关闭，不发送，只接受）
4.服务端发送FIN报文 FIN=1 ACK=1 seq=w ack = u+1 服务端进入LAST_ACK
5.客户端收到FIN后，发送ACK ACK=1，seq=u+1,ack=w+1客户端进入TIME_WAIT，此时TCP未释放
需的那个带2msl后客户端才进入CLOSED
MSL是Maximum Segment Lifetime的英文缩写，可译为“最长报文段寿命”，它是任何报文在网络上存在的最长时间，超过这个时间报文将被丢弃。

为了保证客户端发送的最后一个ACK报文段能够到达服务器。因为这个ACK有可能丢失，从而导致处在LAST-ACK状态的服务器收不到对FIN-ACK的确认报文。服务器会超时重传这个FIN-ACK，接着客户端再重传一次确认，重新启动时间等待计时器。最后客户端和服务器都能正常的关闭。假设客户端不等待2MSL，而是在发送完ACK之后直接释放关闭，一但这个ACK丢失的话，服务器就无法正常的进入关闭连接状态。
两个理由：

保证客户端发送的最后一个ACK报文段能够到达服务端。
这个ACK报文段有可能丢失，使得处于LAST-ACK状态的B收不到对已发送的FIN+ACK报文段的确认，服务端超时重传FIN+ACK报文段，而客户端能在2MSL时间内收到这个重传的FIN+ACK报文段，接着客户端重传一次确认，重新启动2MSL计时器，最后客户端和服务端都进入到CLOSED状态，若客户端在TIME-WAIT状态不等待一段时间，而是发送完ACK报文段后立即释放连接，则无法收到服务端重传的FIN+ACK报文段，所以不会再发送一次确认报文段，则服务端无法正常进入到CLOSED状态。
防止“已失效的连接请求报文段”出现在本连接中。
客户端在发送完最后一个ACK报文段后，再经过2MSL，就可以使本连接持续的时间内所产生的所有报文段都从网络中消失，使下一个新的连接中不会出现这种旧的连接请求报文段。




1.浏览器解析url获取IP地址（DNS查询（递归查询，迭代查询））
2.找到后获取Mac地址（ARP协议）
3.获取到mac地址和ip地址后开始tcp连接，慢启动，丢包重传
4.服务器响应，获得html后走一个叫关键渲染路径的东西（解析字符串，body，html等解析成令牌（token），然后变成节点，最后组合成dom树，cssOM树类似，最后组合成渲染树，布局，绘制）
5.渲染层，合成层

